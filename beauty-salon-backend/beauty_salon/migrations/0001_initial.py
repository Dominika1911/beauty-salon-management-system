# Generated by Django 5.2.8 on 2025-11-23 21:43

import beauty_salon.utils
import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('email', models.EmailField(max_length=254, unique=True, verbose_name='adres email')),
                ('first_name', models.CharField(blank=True, max_length=150, verbose_name='imię')),
                ('last_name', models.CharField(blank=True, max_length=150, verbose_name='nazwisko')),
                ('role', models.CharField(choices=[('manager', 'Manager/Administrator'), ('employee', 'Pracownik'), ('client', 'Klient')], default='client', max_length=10, verbose_name='rola')),
                ('is_active', models.BooleanField(default=True, verbose_name='aktywne')),
                ('is_staff', models.BooleanField(default=False, verbose_name='personel')),
                ('failed_login_attempts', models.PositiveSmallIntegerField(default=0, verbose_name='nieudane próby logowania')),
                ('account_locked_until', models.DateTimeField(blank=True, null=True, verbose_name='konto zablokowane do')),
                ('last_login_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='ostatnie IP logowania')),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.permission', verbose_name='user permissions')),
            ],
            options={
                'verbose_name': 'użytkownik',
                'verbose_name_plural': 'użytkownicy',
                'db_table': 'auth_user',
            },
        ),
        migrations.CreateModel(
            name='Service',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='usunięte (GDPR)')),
                ('name', models.CharField(max_length=255, verbose_name='nazwa usługi')),
                ('description', models.TextField(blank=True, verbose_name='opis')),
                ('price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='cena podstawowa (PLN)')),
                ('duration', models.DurationField(verbose_name='czas trwania')),
                ('category', models.CharField(blank=True, db_index=True, max_length=100, verbose_name='kategoria')),
                ('is_published', models.BooleanField(default=True, verbose_name='opublikowana (widoczna)')),
                ('promotion', models.JSONField(blank=True, default=dict, verbose_name='promocja')),
                ('image_url', models.URLField(blank=True, verbose_name='URL obrazka')),
                ('reservations_count', models.PositiveIntegerField(default=0, verbose_name='liczba rezerwacji')),
            ],
            options={
                'verbose_name': 'usługa',
                'verbose_name_plural': 'usługi',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='StatsSnapshot',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('period', models.CharField(choices=[('daily', 'Dzienne'), ('weekly', 'Tygodniowe'), ('monthly', 'Miesięczne'), ('annual', 'Roczne')], max_length=20, verbose_name='okres')),
                ('total_visits', models.PositiveIntegerField(default=0, verbose_name='liczba wizyt (total)')),
                ('date_from', models.DateField(blank=True, null=True, verbose_name='data od')),
                ('date_to', models.DateField(blank=True, null=True, verbose_name='data do')),
                ('completed_visits', models.PositiveIntegerField(default=0, verbose_name='liczba wizyt zrealizowanych')),
                ('cancellations', models.PositiveIntegerField(default=0, verbose_name='liczba anulacji')),
                ('no_shows', models.PositiveIntegerField(default=0, verbose_name='liczba no-show')),
                ('revenue_total', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='przychód total')),
                ('revenue_deposits', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='przychód z zaliczek')),
                ('new_clients', models.PositiveIntegerField(default=0, verbose_name='liczba nowych klientów')),
                ('returning_clients', models.PositiveIntegerField(default=0, verbose_name='liczba powracających klientów')),
                ('employees_occupancy_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='średnie obłożenie pracowników %')),
                ('extra_metrics', models.JSONField(blank=True, default=dict, verbose_name='dodatkowe metryki')),
            ],
            options={
                'verbose_name': 'migawka statystyk',
                'verbose_name_plural': 'migawki statystyk',
                'ordering': ['-date_from', '-period'],
            },
        ),
        migrations.CreateModel(
            name='Employee',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='usunięte (GDPR)')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, primary_key=True, serialize=False, to=settings.AUTH_USER_MODEL)),
                ('number', models.CharField(blank=True, max_length=20, null=True, unique=True, verbose_name='numer pracownika')),
                ('first_name', models.CharField(blank=True, max_length=150, verbose_name='imię')),
                ('last_name', models.CharField(blank=True, max_length=150, verbose_name='nazwisko')),
                ('phone', models.CharField(blank=True, max_length=15, validators=[django.core.validators.RegexValidator('^\\+?[1-9]\\d{8,14}$', 'Numer telefonu musi być w formacie międzynarodowym (+XXXXXXXXX, 9-15 cyfr).')], verbose_name='telefon')),
                ('hired_at', models.DateField(default=django.utils.timezone.now, verbose_name='data zatrudnienia')),
                ('is_active', models.BooleanField(default=True, verbose_name='aktywny')),
                ('appointments_count', models.PositiveIntegerField(default=0, verbose_name='liczba zrealizowanych wizyt')),
                ('average_rating', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=3, verbose_name='średnia ocena')),
                ('skills', models.ManyToManyField(blank=True, to='beauty_salon.service', verbose_name='umiejętności (usługi)')),
            ],
            options={
                'verbose_name': 'pracownik',
                'verbose_name_plural': 'pracownicy',
                'ordering': ['last_name', 'first_name'],
            },
        ),
        migrations.CreateModel(
            name='AuditLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('type', models.CharField(choices=[('user.action', 'Akcja Użytkownika'), ('system.operation', 'Operacja Systemowa'), ('appointment.change', 'Zmiana Wizyty'), ('payment.change', 'Zmiana Płatności'), ('payment.deposit_forfeited', 'Utrata Zaliczki')], db_index=True, max_length=30, verbose_name='typ zdarzenia')),
                ('level', models.CharField(choices=[('info', 'Informacja'), ('warning', 'Ostrzeżenie'), ('error', 'Błąd')], default='info', max_length=10, verbose_name='poziom')),
                ('message', models.TextField(verbose_name='wiadomość/opis')),
                ('data', models.JSONField(blank=True, default=dict, verbose_name='szczegóły (JSON)')),
                ('adres_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='adres IP')),
                ('user_agent', models.CharField(blank=True, max_length=255, verbose_name='user agent')),
                ('entity_type', models.CharField(blank=True, max_length=50, verbose_name='typ encji')),
                ('entity_id', models.CharField(blank=True, max_length=50, verbose_name='ID encji')),
                ('metadata', models.JSONField(blank=True, default=dict, verbose_name='metadata')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='użytkownik')),
            ],
            options={
                'verbose_name': 'log audytu',
                'verbose_name_plural': 'logi audytu',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Client',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='usunięte (GDPR)')),
                ('number', models.CharField(blank=True, max_length=20, null=True, unique=True, verbose_name='numer klienta')),
                ('first_name', models.CharField(max_length=150, verbose_name='imię')),
                ('last_name', models.CharField(max_length=150, verbose_name='nazwisko')),
                ('email', models.EmailField(blank=True, max_length=254, null=True, unique=True, verbose_name='adres email')),
                ('phone', models.CharField(blank=True, max_length=15, null=True, unique=True, validators=[django.core.validators.RegexValidator('^\\+?[1-9]\\d{8,14}$', 'Numer telefonu musi być w formacie międzynarodowym (+XXXXXXXXX, 9-15 cyfr).')], verbose_name='telefon')),
                ('visits_count', models.PositiveIntegerField(default=0, verbose_name='liczba zrealizowanych wizyt')),
                ('total_spent_amount', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='wydana kwota (PLN)')),
                ('marketing_consent', models.BooleanField(default=False, verbose_name='zgoda marketingowa')),
                ('preferred_contact', models.CharField(choices=[('email', 'Email'), ('sms', 'SMS'), ('phone', 'Telefon'), ('none', 'Brak')], default='email', max_length=10, verbose_name='preferowany kontakt')),
                ('internal_notes', models.TextField(blank=True, verbose_name='notatki wewnętrzne')),
                ('user', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='client_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'klient',
                'verbose_name_plural': 'klienci',
                'ordering': ['last_name', 'first_name'],
            },
        ),
        migrations.CreateModel(
            name='Appointment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('start', models.DateTimeField(db_index=True, verbose_name='czas rozpoczęcia')),
                ('end', models.DateTimeField(db_index=True, verbose_name='czas zakończenia')),
                ('status', models.CharField(choices=[('pending', 'Oczekująca (do potwierdzenia)'), ('confirmed', 'Potwierdzona'), ('in_progress', 'W trakcie'), ('completed', 'Zakończona'), ('cancelled', 'Anulowana'), ('no_show', 'Nieobecność (No-show)')], db_index=True, default='pending', max_length=15, verbose_name='status')),
                ('internal_notes', models.TextField(blank=True, verbose_name='uwagi wewnętrzne')),
                ('booking_channel', models.CharField(blank=True, max_length=50, verbose_name='kanał rezerwacji')),
                ('client_notes', models.TextField(blank=True, verbose_name='uwagi klienta')),
                ('cancelled_at', models.DateTimeField(blank=True, null=True, verbose_name='anulowano o')),
                ('cancellation_reason', models.TextField(blank=True, verbose_name='powód anulacji')),
                ('reminder_sent', models.BooleanField(db_index=True, default=False, verbose_name='przypomnienie wysłane')),
                ('reminder_sent_at', models.DateTimeField(blank=True, null=True, verbose_name='przypomnienie wysłane o')),
                ('cancelled_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cancelled_appointments', to=settings.AUTH_USER_MODEL, verbose_name='anulowane przez')),
                ('client', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='appointments', to='beauty_salon.client', verbose_name='klient')),
                ('service', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='appointments', to='beauty_salon.service', verbose_name='usługa')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='appointments', to='beauty_salon.employee', verbose_name='pracownik')),
            ],
            options={
                'verbose_name': 'wizyta',
                'verbose_name_plural': 'wizyty',
                'ordering': ['start'],
            },
        ),
        migrations.CreateModel(
            name='Invoice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('number', models.CharField(default=beauty_salon.utils.generate_invoice_number, max_length=50, unique=True, verbose_name='numer faktury')),
                ('client_name', models.CharField(max_length=255, verbose_name='nazwa klienta')),
                ('client_tax_id', models.CharField(blank=True, max_length=20, verbose_name='NIP klienta')),
                ('net_amount', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='kwota netto')),
                ('vat_rate', models.DecimalField(decimal_places=2, max_digits=4, verbose_name='stawka VAT (%)')),
                ('vat_amount', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='kwota VAT')),
                ('gross_amount', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='kwota brutto')),
                ('issue_date', models.DateField(default=django.utils.timezone.now, verbose_name='data wystawienia')),
                ('sale_date', models.DateField(blank=True, null=True, verbose_name='data sprzedaży')),
                ('due_date', models.DateField(blank=True, null=True, verbose_name='termin płatności')),
                ('paid_date', models.DateField(blank=True, null=True, verbose_name='data zapłaty')),
                ('status', models.CharField(choices=[('draft', 'Szkic'), ('final', 'Ostateczna'), ('paid', 'Opłacona'), ('cancelled', 'Anulowana')], default='draft', max_length=10, verbose_name='status')),
                ('is_paid', models.BooleanField(default=False, verbose_name='opłacona')),
                ('pdf_file', models.FileField(blank=True, null=True, upload_to='invoices/%Y/%m/', verbose_name='plik PDF')),
                ('appointment', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='invoices', to='beauty_salon.appointment', verbose_name='wizyta')),
                ('client', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='beauty_salon.client', verbose_name='klient')),
            ],
            options={
                'verbose_name': 'faktura',
                'verbose_name_plural': 'faktury',
                'ordering': ['-issue_date'],
            },
        ),
        migrations.CreateModel(
            name='Note',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('content', models.TextField(verbose_name='treść notatki')),
                ('visible_for_client', models.BooleanField(default=False, verbose_name='widoczna dla klienta')),
                ('appointment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notes', to='beauty_salon.appointment')),
                ('author', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='autor')),
                ('client', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notes', to='beauty_salon.client')),
            ],
            options={
                'verbose_name': 'notatka',
                'verbose_name_plural': 'notatki',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('type', models.CharField(choices=[('reminder', 'Przypomnienie o wizycie'), ('cancellation', 'Anulowanie wizyty'), ('promotion', 'Promocja'), ('custom', 'Wiadomość niestandardowa')], default='reminder', max_length=20, verbose_name='Typ')),
                ('channel', models.CharField(choices=[('email', 'E-mail'), ('sms', 'SMS'), ('push', 'Powiadomienie push')], default='email', max_length=20, verbose_name='Kanał')),
                ('status', models.CharField(choices=[('pending', 'Oczekujące'), ('sent', 'Wysłane'), ('failed', 'Nieudane')], default='pending', max_length=20, verbose_name='Status')),
                ('subject', models.CharField(blank=True, max_length=200, verbose_name='Temat')),
                ('content', models.TextField(verbose_name='Treść')),
                ('scheduled_at', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Planowana wysyłka')),
                ('sent_at', models.DateTimeField(blank=True, null=True, verbose_name='Wysłano')),
                ('error_message', models.TextField(blank=True, verbose_name='Komunikat błędu')),
                ('attempts_count', models.PositiveIntegerField(default=0, verbose_name='Liczba prób wysyłki')),
                ('appointment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to='beauty_salon.appointment', verbose_name='Wizyta')),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to='beauty_salon.client', verbose_name='Klient')),
            ],
            options={
                'verbose_name': 'Powiadomienie',
                'verbose_name_plural': 'Powiadomienia',
                'ordering': ['-scheduled_at'],
            },
        ),
        migrations.CreateModel(
            name='Payment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='kwota (PLN)')),
                ('status', models.CharField(choices=[('pending', 'Oczekująca'), ('paid', 'Opłacona'), ('cancelled', 'Anulowana'), ('refunded', 'Zwrócona'), ('deposit', 'Zaliczka'), ('forfeited', 'Utracona (kara)')], default='pending', max_length=15, verbose_name='status')),
                ('method', models.CharField(choices=[('cash', 'Gotówka'), ('card', 'Karta'), ('transfer', 'Przelew'), ('other', 'Inna')], default='card', max_length=10, verbose_name='metoda płatności')),
                ('type', models.CharField(choices=[('full', 'Pełna płatność'), ('deposit', 'Zaliczka'), ('tip', 'Napiwek')], default='full', max_length=10, verbose_name='typ płatności')),
                ('paid_at', models.DateTimeField(blank=True, null=True, verbose_name='data płatności')),
                ('reference', models.CharField(blank=True, max_length=100, verbose_name='numer referencyjny')),
                ('appointment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='payments', to='beauty_salon.appointment')),
            ],
            options={
                'verbose_name': 'płatność',
                'verbose_name_plural': 'płatności',
                'ordering': ['-paid_at'],
            },
        ),
        migrations.CreateModel(
            name='ReportPDF',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('type', models.CharField(choices=[('monthly', 'Miesięczny'), ('annual', 'Roczny'), ('custom', 'Niestandardowy'), ('financial', 'Finansowy')], max_length=10, verbose_name='typ raportu')),
                ('title', models.CharField(blank=True, max_length=255, verbose_name='tytuł raportu')),
                ('date_from', models.DateField(verbose_name='data od')),
                ('date_to', models.DateField(verbose_name='data do')),
                ('data_od', models.DateField(blank=True, null=True, verbose_name='data od (alias)')),
                ('data_do', models.DateField(blank=True, null=True, verbose_name='data do (alias)')),
                ('file', models.FileField(upload_to='reports/%Y/%m/', verbose_name='plik PDF')),
                ('file_path', models.CharField(blank=True, max_length=500, verbose_name='ścieżka do pliku')),
                ('file_size', models.PositiveIntegerField(blank=True, null=True, verbose_name='rozmiar pliku')),
                ('parameters', models.JSONField(blank=True, default=dict, verbose_name='parametry')),
                ('notes', models.TextField(blank=True, verbose_name='uwagi')),
                ('generated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='wygenerowany przez')),
            ],
            options={
                'verbose_name': 'raport PDF',
                'verbose_name_plural': 'raporty PDF',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SystemSettings',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('salon_name', models.CharField(default='Mój Salon Piękności', max_length=255, verbose_name='nazwa salonu')),
                ('address', models.CharField(blank=True, max_length=255, verbose_name='adres')),
                ('phone', models.CharField(blank=True, max_length=15, verbose_name='telefon')),
                ('contact_email', models.EmailField(blank=True, max_length=254, verbose_name='email kontaktowy')),
                ('slot_minutes', models.PositiveSmallIntegerField(default=30, verbose_name='minimalny czas slotu (min)')),
                ('buffer_minutes', models.PositiveSmallIntegerField(default=15, verbose_name='czas buforu między wizytami (min)')),
                ('default_vat_rate', models.DecimalField(decimal_places=2, default=Decimal('23.00'), max_digits=4, verbose_name='domyślna stawka VAT (%)')),
                ('deposit_policy', models.JSONField(blank=True, default=dict, verbose_name='polityka zaliczek/anulacji')),
                ('opening_hours', models.JSONField(blank=True, default=dict, verbose_name='godziny otwarcia')),
                ('is_online_booking_enabled', models.BooleanField(default=True, verbose_name='rezerwacja online włączona')),
                ('maintenance_mode', models.BooleanField(default=False, verbose_name='tryb konserwacji')),
                ('maintenance_message', models.TextField(blank=True, verbose_name='komunikat konserwacji')),
                ('last_modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='modified_settings', to=settings.AUTH_USER_MODEL, verbose_name='ostatnio zmodyfikowane przez')),
            ],
            options={
                'verbose_name': 'ustawienia systemowe',
                'verbose_name_plural': 'ustawienia systemowe',
            },
        ),
        migrations.CreateModel(
            name='TimeOff',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('date_from', models.DateField(verbose_name='data od')),
                ('date_to', models.DateField(verbose_name='data do')),
                ('status', models.CharField(choices=[('pending', 'Oczekujący'), ('approved', 'Zatwierdzony'), ('rejected', 'Odrzucony')], default='pending', max_length=10, verbose_name='status')),
                ('type', models.CharField(choices=[('vacation', 'Urlop wypoczynkowy'), ('sick_leave', 'Zwolnienie chorobowe'), ('other', 'Inny')], default='vacation', max_length=20, verbose_name='typ nieobecności')),
                ('reason', models.TextField(blank=True, verbose_name='powód/uwagi')),
                ('approved_at', models.DateTimeField(blank=True, null=True, verbose_name='zatwierdzone o')),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_time_offs', to=settings.AUTH_USER_MODEL, verbose_name='zatwierdzone przez')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='time_offs', to='beauty_salon.employee', verbose_name='pracownik')),
            ],
            options={
                'verbose_name': 'nieobecność',
                'verbose_name_plural': 'nieobecności',
                'ordering': ['-date_from'],
            },
        ),
        migrations.CreateModel(
            name='Schedule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('status', models.CharField(choices=[('active', 'Aktywny'), ('inactive', 'Nieaktywny')], default='active', max_length=10, verbose_name='status')),
                ('availability_periods', models.JSONField(blank=True, default=list, verbose_name='okresy dostępności')),
                ('breaks', models.JSONField(blank=True, default=list, verbose_name='przerwy')),
                ('employee', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='schedule', to='beauty_salon.employee', verbose_name='pracownik')),
            ],
            options={
                'verbose_name': 'grafik pracy',
                'verbose_name_plural': 'grafiki pracy',
            },
        ),
        migrations.CreateModel(
            name='MediaAsset',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Utworzono')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Zaktualizowano')),
                ('name', models.CharField(max_length=255, verbose_name='nazwa')),
                ('file_name', models.CharField(blank=True, max_length=255, verbose_name='nazwa pliku')),
                ('file', models.FileField(upload_to='media_assets/%Y/%m/%d/', verbose_name='plik')),
                ('file_url', models.URLField(blank=True, verbose_name='URL pliku')),
                ('file_size', models.PositiveIntegerField(blank=True, null=True, verbose_name='rozmiar pliku (bajty)')),
                ('size_bytes', models.PositiveIntegerField(blank=True, null=True, verbose_name='rozmiar (bajty)')),
                ('mime_type', models.CharField(blank=True, max_length=100, verbose_name='typ MIME')),
                ('type', models.CharField(choices=[('before', 'Przed'), ('after', 'Po'), ('other', 'Inny')], default='other', max_length=10, verbose_name='typ')),
                ('description', models.TextField(blank=True, verbose_name='opis')),
                ('is_private', models.BooleanField(default=True, verbose_name='prywatny (tylko personel)')),
                ('is_active', models.BooleanField(default=True, verbose_name='aktywny')),
                ('appointment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='media_assets', to='beauty_salon.appointment')),
                ('client', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='media_assets', to='beauty_salon.client')),
                ('employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='media_assets', to='beauty_salon.employee', verbose_name='pracownik')),
            ],
            options={
                'verbose_name': 'zasób multimedialny',
                'verbose_name_plural': 'zasoby multimedialne',
            },
        ),
    ]
